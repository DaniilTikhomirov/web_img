<!doctype html>
<html>
<head>
     <meta charset="UTF-8" name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <!-- Подключение библиотек -->
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-detector.js"></script>
    <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-handler.js"></script>
    <link rel="stylesheet" href="css/preloader.css"/>
    <link rel="shortcut icon" href="img/icon.ico" type="image/x-icon">
    <!-- Ensure the favicon is correctly linked -->
</head>
<body style="margin: 0; overflow: hidden; padding: 0;">
<!-- Прелоадер -->
<div class="preloader">
    <div class="preloader__row">
        <div class="preloader__item"></div>
        <div class="preloader__item"></div>
    </div>
</div>

<!-- Настройка сцены -->
<a-scene
        embedded
        arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
        renderer="logarithmicDepthBuffer: true;"
        loading-screen="enabled: false"
        vr-mode-ui="enabled: false"
        gesture-detector>
    <a-assets>
        <a-asset-item id="animated-asset1" src="spartan_armour_mkv_-_halo_reach/scene.gltf"></a-asset-item>
    </a-assets>

    <!-- Подключение первого маркера с моделью и анимацией -->
    <a-marker id="animated-marker1" type="pattern" preset="custom" url="assets2/marker.patt"
              cursor="fuse: false; rayOrigin: mouse;" emitevents="true">
        <a-entity
                id="bowser-model1"
                class="raycastable"
                scale="0.8 0.8 0.8"
                rotation="-90 0 0"
                position="0 0 0"
                gltf-model="#animated-asset1"
                class="clickable"
                gesture-handler
                animation-mixer="loop: repeat">
        </a-entity>
    </a-marker>

    <!-- Подключение камеры -->
    <a-entity camera></a-entity>
</a-scene>
<!-- Настройка музыки -->
<audio id="background-music" src="sound/music.mp3" autoplay loop></audio>
<!-- Скрипт -->
<script src="script/main.js"></script>
<script>
    window.onload = function () {
        setTimeout(() => {
            document.body.classList.add('loaded_hiding');
            setTimeout(() => {
                document.body.classList.add('loaded');
                document.body.classList.remove('loaded_hiding');
            }, 500);
        }, 2000);
    }
</script>
</body>
</html>